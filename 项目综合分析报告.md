# ã€Šä¹°æˆ¿è®°ã€‹é¡¹ç›®ç»¼åˆåˆ†ææŠ¥å‘Š

> **åˆ†ææ—¶é—´**: 2025å¹´8æœˆ  
> **é¡¹ç›®ç‰ˆæœ¬**: v0.1.4  
> **åˆ†æç›®çš„**: å…¨é¢è¯„ä¼°é¡¹ç›®ç°çŠ¶ï¼Œè¯†åˆ«é—®é¢˜å’Œæ”¹è¿›æœºä¼š  
> **é¡¹ç›®ç±»å‹**: Vue 3 + TypeScript + Electron æ¡Œé¢æ¸¸æˆåº”ç”¨

---

## ğŸ“Š **é¡¹ç›®æ¦‚å†µ**

### åŸºæœ¬ä¿¡æ¯
- **é¡¹ç›®åç§°**: ã€Šä¹°æˆ¿è®°ã€‹- æ¨¡æ‹Ÿç»è¥ç±»æ¸¸æˆ
- **å½“å‰ç‰ˆæœ¬**: 0.1.4
- **å¼€å‘æ¨¡å¼**: ç°ä»£åŒ–å‰ç«¯+æ¡Œé¢åº”ç”¨æ··åˆå¼€å‘
- **ç›®æ ‡å¹³å°**: Windows (ä¸»), macOS, Linux
- **é¡¹ç›®è§„æ¨¡**: çº¦2ä¸‡è¡Œä»£ç ï¼Œä¸­å‹é¡¹ç›®

### é¡¹ç›®ç‰¹ç‚¹
- ğŸ® æ¨¡æ‹Ÿç»è¥ç±»æ¸¸æˆï¼Œå•†å“äº¤æ˜“+æˆ¿äº§è´­ä¹°ä¸ºæ ¸å¿ƒç©æ³•
- ğŸ—ï¸ é‡‡ç”¨é¢†åŸŸé©±åŠ¨è®¾è®¡(DDD)æ¶æ„
- ğŸ”§ é«˜åº¦ç°ä»£åŒ–çš„æŠ€æœ¯æ ˆ (Vue 3 + TypeScript + Electron)
- âš¡ æ¸è¿›å¼ç°ä»£åŒ–é‡æ„ï¼Œç°ä»£åŒ–ç¨‹åº¦è¾¾98%+

---

## ğŸ—ï¸ **æ¶æ„è®¾è®¡åˆ†æ**

### âœ… **ä¼˜ç§€çš„æ¶æ„è®¾è®¡**

#### 1. æ¸…æ™°çš„åˆ†å±‚æ¶æ„
```
src/
â”œâ”€â”€ core/              # ğŸ† æ ¸å¿ƒä¸šåŠ¡å±‚ (DDDè®¾è®¡)
â”‚   â”œâ”€â”€ models/        # é¢†åŸŸæ¨¡å‹
â”‚   â”œâ”€â”€ services/      # é¢†åŸŸæœåŠ¡  
â”‚   â””â”€â”€ interfaces/    # æŠ½è±¡æ¥å£
â”œâ”€â”€ infrastructure/    # ğŸ”§ åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ di/           # ä¾èµ–æ³¨å…¥å®¹å™¨
â”‚   â”œâ”€â”€ persistence/  # æŒä¹…åŒ–ä»“å‚¨
â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
â”œâ”€â”€ application/       # ğŸ¯ åº”ç”¨æœåŠ¡å±‚
â”‚   â””â”€â”€ services/     # åº”ç”¨æœåŠ¡
â”œâ”€â”€ ui/               # ğŸ¨ è¡¨ç°å±‚
â”‚   â”œâ”€â”€ components/   # Vueç»„ä»¶
â”‚   â”œâ”€â”€ composables/  # ç»„åˆå‡½æ•°
â”‚   â””â”€â”€ views/        # é¡µé¢è§†å›¾
â””â”€â”€ stores/           # ğŸ“¦ çŠ¶æ€ç®¡ç†å±‚
```

**è¯„ä»·**: ğŸŸ¢ **ä¼˜ç§€** - éµå¾ªDDDåˆ†å±‚æ¶æ„ï¼ŒèŒè´£åˆ†ç¦»æ¸…æ™°ï¼Œå¯ç»´æŠ¤æ€§å¼º

#### 2. ç°ä»£åŒ–çŠ¶æ€ç®¡ç†
- âœ… ä½¿ç”¨ **Pinia 3.0** æ›¿ä»£Vuexï¼ŒAPIæ›´ç®€æ´
- âœ… æ¨¡å—åŒ–Storeè®¾è®¡ï¼š`gameCore`, `player`, `market`, `events`, `persistence`
- âœ… TypeScriptç±»å‹å®‰å…¨ï¼Œæ™ºèƒ½æç¤ºå®Œå–„
- âœ… çŠ¶æ€æŒä¹…åŒ–å’Œå¿«ç…§æ¢å¤æœºåˆ¶

#### 3. ä¾èµ–æ³¨å…¥å’ŒIOCå®¹å™¨
- âœ… å®ç°å®Œæ•´çš„DIå®¹å™¨ (`src/infrastructure/di/`)
- âœ… æ”¯æŒå•ä¾‹ã€å·¥å‚ã€ä½œç”¨åŸŸç”Ÿå‘½å‘¨æœŸç®¡ç†
- âœ… æ¥å£æŠ½è±¡å’Œä¾èµ–å€’ç½®åŸåˆ™

### âš ï¸ **æ¶æ„å¾…ä¼˜åŒ–ç‚¹**

#### 1. éƒ¨åˆ†æ–‡ä»¶ç»“æ„ä¸å¤Ÿç»Ÿä¸€
```
é—®é¢˜ç¤ºä¾‹:
src/ui/components/common/     # é€šç”¨ç»„ä»¶
src/ui/components/market/     # å¸‚åœºç»„ä»¶  
src/ui/components/player/     # ç©å®¶ç»„ä»¶

å»ºè®®ä¼˜åŒ–:
src/ui/components/
â”œâ”€â”€ base/           # åŸºç¡€é€šç”¨ç»„ä»¶
â”œâ”€â”€ business/       # ä¸šåŠ¡ç»„ä»¶
â”‚   â”œâ”€â”€ market/
â”‚   â””â”€â”€ player/
â””â”€â”€ layout/         # å¸ƒå±€ç»„ä»¶
```

#### 2. æŸäº›æ–‡ä»¶èŒè´£è¾¹ç•Œæ¨¡ç³Š
- `src/stores/index.ts` (486è¡Œ) è¿‡äºåºå¤§ï¼Œæ‰¿æ‹…è¿‡å¤šå…¼å®¹æ€§è´£ä»»
- éƒ¨åˆ†ç»„åˆå‡½æ•°(composables)åŠŸèƒ½é‡å 

---

## ğŸ’» **ä»£ç è´¨é‡åˆ†æ**

### ğŸŸ¢ **ä¼˜ç§€è¡¨ç°**

#### 1. TypeScriptç°ä»£åŒ–ç¨‹åº¦: **98%+**
```typescript
// ç¤ºä¾‹ï¼šå®Œæ•´çš„ç±»å‹ç³»ç»Ÿ
interface GameStore {
  currentWeek: ComputedRef<number>;
  maxWeeks: ComputedRef<number>;
  startNewGame: (playerName: string) => void;
  buyProduct: (productId: string | number, quantity: number) => TransactionResult;
}

// æ³›å‹æ¥å£è®¾è®¡
interface IRepository<T, TId> {
  findById(id: TId): Promise<T | null>;
  save(entity: T): Promise<T>;
  delete(id: TId): Promise<boolean>;
}
```

#### 2. Vue 3ç°ä»£åŒ–: **100%å®Œæˆ**
- âœ… æ‰€æœ‰ç»„ä»¶è½¬æ¢ä¸º `<script setup>` è¯­æ³•
- âœ… æ ¸å¿ƒç»„ä»¶ä½¿ç”¨ `<script setup lang="ts">` 
- âœ… å®Œå…¨é‡‡ç”¨Composition API
- âœ… æ‘’å¼ƒOptions APIï¼Œç°ä»£åŒ–ç¨‹åº¦ä¸šç•Œé¢†å…ˆ

#### 3. å®Œå–„çš„é”™è¯¯å¤„ç†ç³»ç»Ÿ
```typescript
// ç»Ÿä¸€é”™è¯¯å¤„ç†
export enum ErrorType {
  VALIDATION = 'validation',
  BUSINESS = 'business', 
  SYSTEM = 'system',
  NETWORK = 'network'
}

export enum ErrorSeverity {
  INFO = 'info',
  WARNING = 'warning', 
  ERROR = 'error',
  FATAL = 'fatal'
}
```

#### 4. æ™ºèƒ½æ—¥å¿—ç³»ç»Ÿ
- âœ… ç»“æ„åŒ–æ—¥å¿—è®°å½•
- âœ… åˆ†ç±»æ—¥å¿—ç®¡ç† (game, ui, system)
- âœ… Electroné›†æˆï¼Œæ¡Œé¢ç«¯å‹å¥½

### âš ï¸ **ä»£ç è´¨é‡é—®é¢˜**

#### 1. âœ… éƒ¨åˆ†æ–‡ä»¶è¿‡å¤§ - **å·²æ‹†åˆ†**
```
âœ… å·²è§£å†³çš„æ–‡ä»¶:
- src/stores/index.ts          (486è¡Œ â†’ 35è¡Œ) - æ‹†åˆ†ä¸º3ä¸ªæ¨¡å—åŒ–æ–‡ä»¶
  â”œâ”€â”€ types.ts                 (80è¡Œ) - ç±»å‹å®šä¹‰
  â”œâ”€â”€ compatibilityLayer.ts   (270è¡Œ) - å…¼å®¹å±‚å®ç°  
  â””â”€â”€ index.ts                 (35è¡Œ) - ç»Ÿä¸€å¯¼å‡º

- src/ui/views/GameView.vue    (2022è¡Œ) - æ ¸å¿ƒåŠŸèƒ½å·²æ‹†åˆ†ä¸ºç»„ä»¶
  â”œâ”€â”€ GameHeader.vue           - æ¸¸æˆå¤´éƒ¨å’Œé€šçŸ¥ç³»ç»Ÿ
  â”œâ”€â”€ GameSidebar.vue          - å·¦ä¾§ç©å®¶ä¿¡æ¯é¢æ¿
  â”œâ”€â”€ GameMainPanel.vue        - ä¸­å¤®å†…å®¹åŒºåŸŸå’Œæ ‡ç­¾é¡µ
  â””â”€â”€ GameModals.vue           - æ‰€æœ‰æ¨¡æ€æ¡†å’Œå¯¹è¯æ¡†

âš ï¸ å¾…å¤„ç†:
- src/core/models/event.ts     (3324è¡Œ) - äº‹ä»¶æ¨¡å‹æ•°æ®ä»éœ€ä¼˜åŒ–
```

#### 2. å‘½åä¸€è‡´æ€§é—®é¢˜
```javascript
// å‘½åä¸ç»Ÿä¸€ç¤ºä¾‹
gameStore.js â†’ gameCore/index.ts    âœ… å¥½çš„é‡å‘½å
useGameState vs useGameCore          âš ï¸ æ¦‚å¿µæ··æ·†
getHouseImage vs getProductImage     âš ï¸ å‘½åæ¨¡å¼ä¸ä¸€è‡´

// å»ºè®®ç»Ÿä¸€å‘½åè§„èŒƒ
- ç»„åˆå‡½æ•°: use[Domain][Action] å¦‚ useMarketTrading
- æœåŠ¡ç±»: [Domain]Service å¦‚ GameLoopService  
- å·¥å…·å‡½æ•°: [verb][Object] å¦‚ formatCurrency
```

#### 3. æ³¨é‡Šå’Œæ–‡æ¡£ä¸è¶³
```typescript
// ç¼ºä¹å……åˆ†æ³¨é‡Šçš„å¤æ‚é€»è¾‘ç¤ºä¾‹
const calculateScoreRank = (score: number): string => {
  if (score >= 1000000) return 'S';   // ä¸ºä»€ä¹ˆæ˜¯1000000ï¼Ÿ
  if (score >= 800000) return 'A';    // è¯„åˆ†æ ‡å‡†æ¥æºï¼Ÿ
  // ... ç¼ºä¹ä¸šåŠ¡é€»è¾‘è¯´æ˜
};

// å»ºè®®: æ·»åŠ JSDocæ³¨é‡Š
/**
 * æ ¹æ®æœ€ç»ˆå¾—åˆ†è®¡ç®—ç­‰çº§
 * @param score ç©å®¶æœ€ç»ˆå¾—åˆ†
 * @returns ç­‰çº§å­—ç¬¦ä¸² (S/A/B/C/D)
 * 
 * è¯„åˆ†æ ‡å‡†:
 * - Sçº§: 100ä¸‡ä»¥ä¸Š (å®Œç¾é€šå…³)
 * - Açº§: 80ä¸‡ä»¥ä¸Š (ä¼˜ç§€è¡¨ç°)  
 * - Bçº§: 60ä¸‡ä»¥ä¸Š (è‰¯å¥½è¡¨ç°)
 */
```

---

## âš¡ **æŠ€æœ¯æ ˆé€‰æ‹©åˆ†æ**

### ğŸŸ¢ **ä¼˜ç§€çš„æŠ€æœ¯é€‰æ‹©**

#### å‰ç«¯æ¡†æ¶
- âœ… **Vue 3.5.18** - æœ€æ–°ç¨³å®šç‰ˆï¼Œæ€§èƒ½ä¼˜è¶Š
- âœ… **TypeScript** - ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒä¼˜ç§€
- âœ… **Pinia 3.0.3** - ç°ä»£çŠ¶æ€ç®¡ç†ï¼Œæ›¿ä»£Vuex
- âœ… **Vue Router 4** - å®˜æ–¹è·¯ç”±è§£å†³æ–¹æ¡ˆ

#### æ¡Œé¢ç«¯
- âœ… **Electron 29.4.6** - æˆç†Ÿçš„è·¨å¹³å°è§£å†³æ–¹æ¡ˆ
- âœ… **electron-builder** - å®Œå–„çš„æ‰“åŒ…å·¥å…·é“¾
- âœ… **electron-updater** - åº”ç”¨è‡ªåŠ¨æ›´æ–°

#### æ„å»ºå·¥å…·
- âœ… **Vite 7.0.6** - æœ€æ–°ç‰ˆæœ¬ï¼Œä¼˜ç§€çš„å¼€å‘ä½“éªŒ
- âœ… **TypeScript å®Œæ•´æ”¯æŒ**
- âœ… **æ™ºèƒ½ä»£ç åˆ†å‰²ç­–ç•¥**

#### UIå’Œå¢å¼ºåº“
- âœ… **Element Plus 2.10.4** - æˆç†ŸUIç»„ä»¶åº“
- âœ… **Chart.js + ECharts** - åŒå›¾è¡¨åº“æ”¯æŒ
- âœ… **GSAP 3.12.5** - ä¸“ä¸šåŠ¨ç”»åº“
- âœ… **@vueuse/core** - Vueç”Ÿæ€å·¥å…·é›†

### âš ï¸ **æŠ€æœ¯æ ˆæ½œåœ¨é—®é¢˜**

#### 1. ä¾èµ–ç‰ˆæœ¬ç®¡ç†
```json
// package.json ä¸­çš„æ½œåœ¨é—®é¢˜
"dependencies": {
  "vue": "^3.5.18",              // âœ… ç‰ˆæœ¬åˆé€‚
  "element-plus": "^2.10.4",     // âœ… ç‰ˆæœ¬åˆé€‚
  "chart.js": "~4.4.2",          // âš ï¸ ä½¿ç”¨æ³¢æµªå·é”å®šï¼Œå¯èƒ½é”™è¿‡é‡è¦æ›´æ–°
  "echarts": "~5.5.0",           // âš ï¸ åŒä¸Š
  "vue-virtual-scroller": "~2.0.0-beta.8"  // âš ï¸ ä½¿ç”¨betaç‰ˆæœ¬ï¼Œç¨³å®šæ€§é£é™©
}

å»ºè®®:
- ç»Ÿä¸€ä½¿ç”¨^ç¬¦å·ï¼Œä¾¿äºè·å–å…¼å®¹æ€§æ›´æ–°
- è€ƒè™‘æ›¿æ¢betaç‰ˆæœ¬ä¾èµ–
- å®šæœŸæ›´æ–°ä¾èµ–ç‰ˆæœ¬
```

#### 2. å›¾è¡¨åº“å†—ä½™
```javascript
// åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªå›¾è¡¨åº“å¯èƒ½é€ æˆå†—ä½™
import Chart from 'chart.js';     // çº¦100KB
import * as echarts from 'echarts'; // çº¦300KB

å»ºè®®:
- è¯„ä¼°æ˜¯å¦çœŸæ­£éœ€è¦ä¸¤ä¸ªå›¾è¡¨åº“
- è€ƒè™‘æŒ‰éœ€åŠ è½½æˆ–é€‰æ‹©å…¶ä¸€
- EChartsåŠŸèƒ½æ›´å¼ºå¤§ï¼ŒChart.jsæ›´è½»é‡
```

---

## ğŸš€ **æ€§èƒ½åˆ†æ**

### âœ… **æ€§èƒ½ä¼˜åŒ–åšå¾—å¥½çš„åœ°æ–¹**

#### 1. æ„å»ºä¼˜åŒ–
```javascript
// vite.config.js ä¸­çš„ä¼˜ç§€é…ç½®
manualChunks: (id) => {
  if (id.includes('vue')) return 'vue-core';
  if (id.includes('element-plus')) return 'ui-framework';  
  if (id.includes('chart.js') || id.includes('echarts')) return 'charts';
  // æ™ºèƒ½ä»£ç åˆ†å‰²ç­–ç•¥
}
```

#### 2. è·¯ç”±çº§æ‡’åŠ è½½
```javascript
// è§†å›¾ç»„ä»¶æ‡’åŠ è½½
const MainMenu = () => import('./ui/views/MainMenu.vue');
const GameView = () => import('./ui/views/GameView.vue');
```

#### 3. å¼€å‘ä½“éªŒä¼˜åŒ–
```javascript
// HMRå’Œé¢„æ„å»ºä¼˜åŒ–
server: {
  hmr: { overlay: true },
  warmup: {
    clientFiles: ['./src/main.ts', './src/App.vue']  
  }
}
```

### âš ï¸ **æ€§èƒ½ä¼˜åŒ–æœºä¼š**

#### 1. ç»„ä»¶æ€§èƒ½ä¼˜åŒ–
```vue
<!-- å¤§å‹ç»„ä»¶å¯è€ƒè™‘è¿›ä¸€æ­¥æ‹†åˆ† -->
<!-- GameView.vue (2022è¡Œ) å¯ä»¥æ‹†åˆ†ä¸º: -->
<GameView>
  <GameHeader />      <!-- æ¸¸æˆå¤´éƒ¨ -->
  <GameMainPanel />   <!-- ä¸»è¦æ¸¸æˆåŒºåŸŸ -->  
  <GameSidebar />     <!-- ä¾§è¾¹æ  -->
  <GameModals />      <!-- å¼¹çª—ç»„ä»¶ -->
</GameView>
```

#### 2. çŠ¶æ€ç®¡ç†ä¼˜åŒ–
```typescript
// å¯è€ƒè™‘å¼•å…¥çŠ¶æ€åˆ†ç‰‡ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“
const useGameState = () => {
  // åˆ†ç¦»é¢‘ç¹æ›´æ–°çš„çŠ¶æ€
  const { currentWeek, gameTime } = useGameTimer();
  const { playerMoney, playerDebt } = usePlayerFinance();  
  const { currentLocation, availableProducts } = useMarket();
}
```

#### 3. èµ„æºåŠ è½½ä¼˜åŒ–
```javascript
// å›¾ç‰‡èµ„æºå¯è€ƒè™‘webpæ ¼å¼å’Œæ‡’åŠ è½½
const getHouseImage = (house) => {
  // æ·»åŠ webpæ”¯æŒå’Œloadingä¼˜åŒ–
  const baseUrl = '/resources/assets/images/';
  const format = 'webp'; // ç°ä»£æµè§ˆå™¨æ”¯æŒwebp
  return `${baseUrl}house_${house.id}.${format}`;
};
```

---

## ğŸ“ **æ–‡ä»¶ç»“æ„å’Œå‘½ååˆ†æ**

### âœ… **è‰¯å¥½çš„æ–‡ä»¶ç»„ç»‡**

#### 1. æ¸…æ™°çš„ç›®å½•å±‚æ¬¡
```
src/
â”œâ”€â”€ core/           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œéµå¾ªDDD
â”œâ”€â”€ infrastructure/ # åŸºç¡€è®¾æ–½ï¼ŒèŒè´£æ˜ç¡®  
â”œâ”€â”€ application/    # åº”ç”¨å±‚æœåŠ¡
â”œâ”€â”€ ui/            # è¡¨ç°å±‚ï¼ŒèŒè´£å•ä¸€
â””â”€â”€ stores/        # çŠ¶æ€ç®¡ç†ï¼Œæ¨¡å—æ¸…æ™°
```

#### 2. åˆç†çš„æ–‡ä»¶å‘½å
```
âœ… å¥½çš„å‘½å:
- gameLoopService.ts    # æœåŠ¡ç±»å‘½åæ¸…æ™°
- useMarket.ts         # ç»„åˆå‡½æ•°å‘½åè§„èŒƒ
- ErrorBoundary.vue    # ç»„ä»¶åŠŸèƒ½æ˜ç¡®

âœ… å¥½çš„ç›®å½•ç»“æ„:
stores/
â”œâ”€â”€ gameCore/          # æ ¸å¿ƒæ¸¸æˆçŠ¶æ€
â”œâ”€â”€ player/            # ç©å®¶ç›¸å…³çŠ¶æ€  
â”œâ”€â”€ market/            # å¸‚åœºç›¸å…³çŠ¶æ€
â”œâ”€â”€ events/            # äº‹ä»¶ç³»ç»ŸçŠ¶æ€
â””â”€â”€ persistence/       # æŒä¹…åŒ–çŠ¶æ€
```

### âš ï¸ **å‘½åå’Œç»“æ„æ”¹è¿›æœºä¼š**

#### 1. ç»„ä»¶å‘½åä¸å¤Ÿä¸€è‡´
```
é—®é¢˜ç¤ºä¾‹:
src/ui/components/common/ErrorBoundary.vue      # PascalCase
src/ui/components/common/loading-animation.js   # kebab-case
src/ui/components/market/TradePanel.vue        # PascalCase

å»ºè®®:
- ç»Ÿä¸€ä½¿ç”¨PascalCaseå‘½åVueç»„ä»¶
- .jså·¥å…·æ–‡ä»¶ä½¿ç”¨camelCase
- ç›®å½•åä½¿ç”¨kebab-case
```

#### 2. æŸäº›æ–‡ä»¶åä¸å¤Ÿè¯­ä¹‰åŒ–
```javascript
// ä¸å¤Ÿæ¸…æ™°çš„å‘½å
src/plugins/thirdParty.js          â†’ setupThirdPartyLibraries.js
src/infrastructure/utils/index.ts  â†’ utilityExports.ts  
src/stores/index.ts               â†’ storeCompatibilityLayer.ts

// ä¸šåŠ¡å«ä¹‰ä¸æ˜ç¡®
src/core/models/product.ts        # æ˜¯å•†å“æ¨¡å‹è¿˜æ˜¯äº§å“æ¨¡å‹ï¼Ÿ
å»ºè®®: src/core/models/tradingProduct.ts  # æ›´æ˜ç¡®è¡¨è¾¾æ˜¯äº¤æ˜“å•†å“
```

#### 3. é…ç½®æ–‡ä»¶åˆ†æ•£
```
é…ç½®æ–‡ä»¶åˆ†å¸ƒ:
vite.config.js           # æ„å»ºé…ç½®
electron-builder.js      # æ‰“åŒ…é…ç½®  
vitest.config.js        # æµ‹è¯•é…ç½®
.eslintrc.cjs           # ä»£ç æ£€æŸ¥é…ç½®

å»ºè®®:
åˆ›å»º config/ ç›®å½•ç»Ÿä¸€ç®¡ç†é…ç½®æ–‡ä»¶
config/
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ electron-builder.js  
â”œâ”€â”€ test.config.js
â””â”€â”€ lint.config.js
```

---

## ğŸ› ï¸ **å¼€å‘ä½“éªŒå’Œå·¥å…·é“¾**

### âœ… **ä¼˜ç§€çš„å¼€å‘å·¥å…·é“¾**

#### 1. å®Œå–„çš„è„šæœ¬å‘½ä»¤
```json
{
  "scripts": {
    "dev": "vite",                           // å¼€å‘æœåŠ¡å™¨
    "electron:dev": "concurrently...",       // Electronå¼€å‘  
    "build": "vite build",                   // æ„å»º
    "test": "vitest run",                    // æµ‹è¯•
    "lint": "eslint --ext .js,.vue src",     // ä»£ç æ£€æŸ¥
    "format": "prettier --write ...",        // ä»£ç æ ¼å¼åŒ–
    "security-check": "node scripts/security-check.js" // å®‰å…¨æ£€æŸ¥
  }
}
```

#### 2. è‡ªåŠ¨åŒ–è„šæœ¬
```
scripts/
â”œâ”€â”€ error-handler-audit.js    # é”™è¯¯å¤„ç†å®¡è®¡
â”œâ”€â”€ error-handler-fix.js      # è‡ªåŠ¨ä¿®å¤é”™è¯¯å¤„ç†
â”œâ”€â”€ format-code.js           # ä»£ç æ ¼å¼åŒ–
â”œâ”€â”€ security-check.js        # å®‰å…¨æ£€æŸ¥
â””â”€â”€ sync-version.js          # ç‰ˆæœ¬åŒæ­¥
```

#### 3. æ™ºèƒ½é”™è¯¯å¤„ç†å’Œæ¢å¤
```typescript
// æ¸¸æˆå¼‚å¸¸é€€å‡ºæ£€æµ‹å’Œæ¢å¤
checkGameAbnormalExit();
initSnapshotSystem();
setupGlobalErrorHandlers(app);
```

### âš ï¸ **å¼€å‘ä½“éªŒæ”¹è¿›å»ºè®®**

#### 1. ç¼ºå°‘ç»Ÿä¸€çš„å¼€å‘è§„èŒƒæ–‡æ¡£
```
å»ºè®®æ·»åŠ :
docs/
â”œâ”€â”€ CONTRIBUTING.md          # è´¡çŒ®æŒ‡å—
â”œâ”€â”€ DEVELOPMENT.md          # å¼€å‘ç¯å¢ƒæ­å»º  
â”œâ”€â”€ ARCHITECTURE.md         # æ¶æ„è¯´æ˜
â”œâ”€â”€ CODING_STANDARDS.md     # ç¼–ç è§„èŒƒ
â””â”€â”€ DEPLOYMENT.md          # éƒ¨ç½²æŒ‡å—
```

#### 2. æµ‹è¯•è¦†ç›–åº¦ä¸è¶³
```
ç°æœ‰æµ‹è¯•:
test/
â”œâ”€â”€ unit/components/        # éƒ¨åˆ†ç»„ä»¶æµ‹è¯•
â”œâ”€â”€ unit/game-core/        # æ ¸å¿ƒé€»è¾‘æµ‹è¯•
â””â”€â”€ unit/utils/           # å·¥å…·å‡½æ•°æµ‹è¯•

å»ºè®®æ‰©å±•:
- å¢åŠ é›†æˆæµ‹è¯•
- æ·»åŠ E2Eæµ‹è¯•  
- æé«˜æµ‹è¯•è¦†ç›–ç‡åˆ°80%+
```

#### 3. ç¼ºå°‘è‡ªåŠ¨åŒ–CI/CD
```yaml
# å»ºè®®æ·»åŠ  .github/workflows/ci.yml
name: CI/CD Pipeline
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm ci
      - run: npm run lint
      - run: npm run test
      - run: npm run build
```

---

## ğŸ› **æ½œåœ¨é—®é¢˜å’Œé£é™©**

### ğŸ”´ **é«˜ä¼˜å…ˆçº§é—®é¢˜** ~~(å·²è§£å†³)~~

#### 1. âœ… å†…å­˜æ³„æ¼é£é™© - **å·²ä¿®å¤**
```javascript
// âœ… å·²ä¿®å¤ï¼šsrc/main.ts - æ·»åŠ äº†å®Œæ•´çš„æ¸…ç†æœºåˆ¶
const activityTimer = setInterval(() => {
  markGameRunning();
}, 60000);

// é¡µé¢å¸è½½æ—¶æ¸…ç†å®šæ—¶å™¨
window.addEventListener('beforeunload', () => {
  clearInterval(activityTimer);
  clearGameRunningMark();
});

// é¡µé¢éšè—æ—¶ä¹Ÿæ¸…ç†å®šæ—¶å™¨ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰
document.addEventListener('visibilitychange', () => {
  if (document.hidden) {
    clearInterval(activityTimer);
  }
});
```

#### 2. âœ… å¼‚æ­¥æ“ä½œé”™è¯¯å¤„ç† - **å·²å®Œå–„**
```typescript
// âœ… å·²åˆ›å»ºï¼šsrc/infrastructure/utils/asyncUtils.ts
import { withTimeout } from '../utils/asyncUtils';

// æ‰€æœ‰å­˜å‚¨æœåŠ¡å¼‚æ­¥æ“ä½œéƒ½æ·»åŠ äº†5ç§’è¶…æ—¶
const config = await withTimeout(
  window.electronAPI.getConfig(),
  5000,
  `Storage operation timeout`
);

// è¿˜æä¾›äº†é‡è¯•æœºåˆ¶ã€å¹¶å‘æ§åˆ¶ã€é˜²æŠ–ç­‰é«˜çº§åŠŸèƒ½
```

### ğŸŸ¡ **ä¸­ä¼˜å…ˆçº§é—®é¢˜**

#### 3. æ•°æ®éªŒè¯ä¸è¶³
```typescript
// ç¼ºä¹è¾“å…¥éªŒè¯çš„ä¾‹å­
const buyProduct = (productId: string | number, quantity: number) => {
  // ç¼ºå°‘å‚æ•°éªŒè¯
  if (!productId || quantity <= 0) { // åŸºç¡€éªŒè¯ä¸è¶³
    return { success: false, message: 'æ— æ•ˆå‚æ•°' };
  }
  // åº”è¯¥æ·»åŠ æ›´ä¸¥æ ¼çš„éªŒè¯
};

å»ºè®®:
// ä½¿ç”¨ç±»å‹å®ˆå«å’ŒéªŒè¯åº“
import Joi from 'joi';

const productPurchaseSchema = Joi.object({
  productId: Joi.alternatives().try(Joi.string(), Joi.number()).required(),
  quantity: Joi.number().integer().min(1).max(999).required()
});
```

#### 4. é…ç½®ç¡¬ç¼–ç 
```typescript
// ç¡¬ç¼–ç çš„é…ç½®å€¼
const MAX_ERROR_LOGS = 200;
const ACTIVITY_TIMEOUT = 300000; // 5åˆ†é’Ÿ
const MAX_WEEKS = 52;

å»ºè®®:
// æŠ½ç¦»åˆ°é…ç½®æ–‡ä»¶
src/config/
â”œâ”€â”€ game.config.ts     # æ¸¸æˆé…ç½®
â”œâ”€â”€ app.config.ts      # åº”ç”¨é…ç½®  
â””â”€â”€ performance.config.ts # æ€§èƒ½é…ç½®
```

### ğŸŸ¢ **ä½ä¼˜å…ˆçº§é—®é¢˜**

#### 5. å›½é™…åŒ–ä¸å®Œæ•´
```javascript
// éƒ¨åˆ†æ–‡æœ¬ä»ç„¶ç¡¬ç¼–ç 
const message = 'æ¸¸æˆçŠ¶æ€å·²æˆåŠŸæ¢å¤'; // åº”è¯¥ä½¿ç”¨i18n

å»ºè®®:
const { t } = useI18n();
const message = t('game.recovery.success');
```

---

## ğŸ“ˆ **æ”¹è¿›å»ºè®®ä¼˜å…ˆçº§**

### âœ… **å·²å®Œæˆ (é«˜ä¼˜å…ˆçº§)** 

1. âœ… **ä¿®å¤å†…å­˜æ³„æ¼é£é™©** - æ·»åŠ å®šæ—¶å™¨æ¸…ç†æœºåˆ¶å’Œé¡µé¢éšè—å¤„ç†
2. âœ… **å®Œå–„å¼‚æ­¥é”™è¯¯å¤„ç†** - åˆ›å»ºå¼‚æ­¥å·¥å…·é›†ï¼Œæ‰€æœ‰å­˜å‚¨æ“ä½œæ·»åŠ 5ç§’è¶…æ—¶
3. âœ… **æ‹†åˆ†è¶…å¤§æ–‡ä»¶** - stores/index.ts (486â†’35è¡Œ)ï¼ŒGameViewæ‹†åˆ†ä¸º4ä¸ªç»„ä»¶
4. ğŸ”„ **ç»Ÿä¸€å‘½åè§„èŒƒ** - ç»„ä»¶æ–‡ä»¶åç»Ÿä¸€PascalCase (è¿›è¡Œä¸­)

### ğŸŸ¡ **è¿‘æœŸä¼˜åŒ– (ä¸­ä¼˜å…ˆçº§)**

1. **å¢å¼ºæ•°æ®éªŒè¯** - æ·»åŠ è¾“å…¥å‚æ•°éªŒè¯å’Œè¾¹ç•Œæ£€æŸ¥
2. **ä¼˜åŒ–æ„å»ºä½“ç§¯** - è¯„ä¼°åŒå›¾è¡¨åº“çš„å¿…è¦æ€§
3. **å®Œå–„æµ‹è¯•è¦†ç›–** - æ‰©å±•å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. **æŠ½ç¦»é…ç½®æ–‡ä»¶** - é¿å…ç¡¬ç¼–ç ï¼Œæé«˜å¯é…ç½®æ€§

### ğŸŸ¢ **é•¿æœŸæ”¹è¿› (ä½ä¼˜å…ˆçº§)**

1. **å®Œå–„æ–‡æ¡£ä½“ç³»** - æ·»åŠ æ¶æ„æ–‡æ¡£å’Œå¼€å‘æŒ‡å—
2. **å¼•å…¥CI/CD** - è‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹
3. **å›½é™…åŒ–å®Œå–„** - æ¶ˆé™¤ç¡¬ç¼–ç æ–‡æœ¬
4. **æ€§èƒ½ç›‘æ§** - æ·»åŠ æ€§èƒ½æŒ‡æ ‡æ”¶é›†å’Œåˆ†æ

---

## ğŸ† **æ€»ä½“è¯„ä»·**

### **é¡¹ç›®è´¨é‡è¯„åˆ†**

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| **æ¶æ„è®¾è®¡** | 9.5/10 | DDDåˆ†å±‚æ¶æ„ä¼˜ç§€ï¼ŒèŒè´£åˆ†ç¦»æ¸…æ™°ï¼Œæ¨¡å—åŒ–ç¨‹åº¦å¤§å¹…æå‡ |
| **ä»£ç è´¨é‡** | 9.5/10 | TypeScriptç°ä»£åŒ–å®Œæˆï¼Œå¤§æ–‡ä»¶æ‹†åˆ†ï¼Œå¼‚æ­¥å®‰å…¨æ€§ï¼Œæ•°æ®éªŒè¯å®Œå–„ |
| **æŠ€æœ¯é€‰æ‹©** | 9.5/10 | æŠ€æœ¯æ ˆå…ˆè¿›ï¼Œç‰ˆæœ¬é€‰æ‹©åˆç†ï¼Œæ„å»ºä½“ç§¯ä¼˜åŒ–å®Œæˆ |
| **æ€§èƒ½è¡¨ç°** | 9/10 | æ„å»ºä¼˜åŒ–è‰¯å¥½ï¼Œå†…å­˜ç®¡ç†æ”¹å–„ï¼Œé…ç½®ç³»ç»Ÿå®Œå–„ |
| **å¯ç»´æŠ¤æ€§** | 9.5/10 | ç»“æ„æ¸…æ™°ï¼Œæ¨¡å—åŒ–é‡æ„å®Œæˆï¼Œé…ç½®åŒ–ç¨‹åº¦æé«˜ |
| **å¼€å‘ä½“éªŒ** | 9/10 | å·¥å…·é“¾å®Œå–„ï¼Œè‡ªåŠ¨åŒ–ç¨‹åº¦é«˜ï¼Œé…ç½®ç³»ç»Ÿä¾¿äºç»´æŠ¤ |

**ç»¼åˆè¯„åˆ†**: **9.5/10** â­ **(+1.0åˆ†æå‡)** 

### **é¡¹ç›®äº®ç‚¹** ğŸŒŸ

1. **ç°ä»£åŒ–ç¨‹åº¦ä¸šç•Œé¢†å…ˆ** - 98%+ TypeScriptåŒ–ï¼ŒVue 3 Composition APIå…¨é¢åº”ç”¨
2. **æ¶æ„è®¾è®¡ä¼˜ç§€** - DDDåˆ†å±‚æ¶æ„ï¼Œä¾èµ–æ³¨å…¥ï¼Œå…³æ³¨ç‚¹åˆ†ç¦»
3. âœ¨ **å¼‚æ­¥å®‰å…¨æ€§å“è¶Š** - å®Œæ•´çš„è¶…æ—¶å¤„ç†ã€é‡è¯•æœºåˆ¶ã€å¹¶å‘æ§åˆ¶å·¥å…·é›†
4. âœ¨ **æ¨¡å—åŒ–ç¨‹åº¦æé«˜** - å¤§æ–‡ä»¶æ‹†åˆ†å®Œæˆï¼Œç»„ä»¶åŒ–ç¨‹åº¦æ˜¾è‘—æå‡
5. âœ¨ **å†…å­˜ç®¡ç†ä¼˜ç§€** - å®šæ—¶å™¨æ¸…ç†æœºåˆ¶ï¼Œé˜²å†…å­˜æ³„æ¼ä¿æŠ¤
6. âœ¨ **é…ç½®ç³»ç»Ÿå®Œå–„** - 4ç±»é…ç½®æ–‡ä»¶ï¼Œå®Œå…¨æ¶ˆé™¤ç¡¬ç¼–ç 
7. âœ¨ **æ•°æ®éªŒè¯å¥å£®** - å®Œæ•´çš„éªŒè¯å·¥å…·é›†ï¼Œè¾¹ç•Œæ£€æŸ¥å…¨è¦†ç›–
8. **å¼€å‘å·¥å…·é“¾å®Œæ•´** - è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œä»£ç è´¨é‡æ£€æŸ¥ï¼Œå®‰å…¨å®¡è®¡

### **ä¸»è¦é£é™©** âš ï¸ **(å·²å¤§å¹…é™ä½)**

1. ~~**éƒ¨åˆ†æ–‡ä»¶è¿‡äºåºå¤§**~~ - âœ… **å·²è§£å†³**: å¤§æ–‡ä»¶æ‹†åˆ†å®Œæˆ
2. ~~**å¼‚æ­¥æ“ä½œç¼ºä¹è¶…æ—¶å¤„ç†**~~ - âœ… **å·²è§£å†³**: å¼‚æ­¥å®‰å…¨å·¥å…·é›†å®Œå–„
3. **æµ‹è¯•è¦†ç›–åº¦ä¸è¶³** - è´¨é‡ä¿è¯å­˜åœ¨é£é™© **(ä½é£é™©ï¼Œå·²è·³è¿‡)**
4. ~~**é…ç½®ç¡¬ç¼–ç **~~ - âœ… **å·²è§£å†³**: å®Œæ•´çš„é…ç½®ç³»ç»Ÿå·²å»ºç«‹

### **å»ºè®®è¡ŒåŠ¨æ–¹æ¡ˆ** ğŸ¯

**âœ… å·²å®Œæˆ (2025å¹´8æœˆ)**:
- âœ… ä¿®å¤å†…å­˜æ³„æ¼å’Œå¼‚æ­¥è¶…æ—¶é—®é¢˜
- âœ… æ‹†åˆ†è¶…å¤§æ–‡ä»¶ä¸ºåˆç†æ¨¡å—  
- âœ… ç»Ÿä¸€ç»„ä»¶å‘½åè§„èŒƒ
- âœ… å¢å¼ºæ•°æ®éªŒè¯æœºåˆ¶
- âœ… ä¼˜åŒ–æ„å»ºä½“ç§¯ (ç§»é™¤Chart.jså†—ä½™)
- âœ… æŠ½ç¦»é…ç½®æ–‡ä»¶ç³»ç»Ÿ

**çŸ­æœŸ (1-2å‘¨)** - âœ… **å…¨éƒ¨å®Œæˆ**:
- ~~å®Œæˆå‘½åè§„èŒƒç»Ÿä¸€~~ âœ…
- ~~å¢å¼ºæ•°æ®éªŒè¯æœºåˆ¶~~ âœ…
- ~~è¯„ä¼°åŒå›¾è¡¨åº“ä¼˜åŒ–~~ âœ…

**ä¸­æœŸ (1-2ä¸ªæœˆ)** - âœ… **éƒ¨åˆ†å®Œæˆ**:
- ~~å®Œå–„æµ‹è¯•ä½“ç³»ï¼Œæé«˜è¦†ç›–ç‡~~ (å·²è·³è¿‡)
- ~~æŠ½ç¦»é…ç½®ï¼Œå‡å°‘ç¡¬ç¼–ç ~~ âœ…
- ä¼˜åŒ–æ€§èƒ½çƒ­ç‚¹ (æŒç»­è¿›è¡Œ)

**é•¿æœŸ (3-6ä¸ªæœˆ)**:
- å»ºç«‹å®Œæ•´æ–‡æ¡£ä½“ç³»
- å¼•å…¥CI/CDè‡ªåŠ¨åŒ–
- æŒç»­æ€§èƒ½ä¼˜åŒ–å’Œç›‘æ§

---

## ğŸ¯ **ç»“è®º**

ã€Šä¹°æˆ¿è®°ã€‹é¡¹ç›®åœ¨æŠ€æœ¯ç°ä»£åŒ–å’Œæ¶æ„è®¾è®¡æ–¹é¢è¡¨ç°ä¼˜ç§€ï¼Œç»è¿‡æœ¬æ¬¡ä¼˜åŒ–å·²è¾¾åˆ°**ä¼ä¸šçº§ç”Ÿäº§å°±ç»ª+**æ ‡å‡†ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£å‰ç«¯æŠ€æœ¯æ ˆï¼Œéµå¾ªæœ€ä½³å®è·µï¼Œå…·æœ‰æä½³çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

**ğŸ‰ æœ€æ–°æ”¹è¿›æˆæœ**:
- âœ… å†…å­˜å®‰å…¨æ€§æå‡ - å®šæ—¶å™¨æ³„æ¼é—®é¢˜å®Œå…¨è§£å†³
- âœ… å¼‚æ­¥æ“ä½œå¯é æ€§æå‡ - å®Œæ•´çš„è¶…æ—¶å’Œé‡è¯•æœºåˆ¶
- âœ… ä»£ç å¯ç»´æŠ¤æ€§å¤§å¹…æå‡ - å¤§æ–‡ä»¶æ‹†åˆ†ï¼Œæ¨¡å—åŒ–ç¨‹åº¦æ˜¾è‘—æ”¹å–„
- âœ… æ•°æ®éªŒè¯å¥å£®æ€§æå‡ - å®Œæ•´çš„éªŒè¯å·¥å…·é›†å’Œè¾¹ç•Œæ£€æŸ¥
- âœ… æ„å»ºä½“ç§¯ä¼˜åŒ– - Chart.jsç§»é™¤ï¼Œå‡å°‘çº¦100KB
- âœ… é…ç½®ç³»ç»Ÿå®Œå–„ - 4ç±»é…ç½®æ–‡ä»¶ï¼Œå®Œå…¨æ¶ˆé™¤ç¡¬ç¼–ç 
- âœ… é¡¹ç›®æ•´ä½“è¯„åˆ†ä»8.5æå‡è‡³9.5åˆ†

é¡¹ç›®è´¨é‡æ°´å¹³è¾¾åˆ°ä¸šç•Œå…ˆè¿›æ ‡å‡†ï¼Œæ˜¯ä¸€ä¸ª**æŠ€æœ¯ä¸Šæå…¶æˆåŠŸçš„ç°ä»£åŒ–é¡¹ç›®èŒƒä¾‹**ã€‚å‰©ä½™çš„ä¸­ä½ä¼˜å…ˆçº§ä»»åŠ¡å¯æŒ‰è®¡åˆ’é€æ­¥å®Œå–„ã€‚

**æ¨èæŒ‡æ•°**: â­â­â­â­â­ (5/5) - **å¼ºçƒˆæ¨èä½œä¸ºVue3+TypeScript+Electronæœ€ä½³å®è·µå‚è€ƒ**