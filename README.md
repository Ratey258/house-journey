# 《买房记》- 经营类模拟游戏

![版本](https://img.shields.io/badge/版本-0.1.0-blue)
![平台](https://img.shields.io/badge/平台-Windows-brightgreen)
![开发框架](https://img.shields.io/badge/框架-Vue_3_+_Electron-orange)

《买房记》是一款经营类模拟游戏，玩家通过买卖商品赚取利润，最终目标是在52周内购买一套房产。这是经典小游戏的现代重制版本，加入了更丰富的玩法和更精美的界面。

## 🎮 游戏特色

- **商品交易系统**: 20+种商品，5种不同类别，丰富的价格波动机制
- **事件系统**: 多样化随机事件，不同选择将导致不同结果
- **房屋购买**: 从简单的单身公寓到豪华私人庄园，5种不同等级的房产
- **地点切换**: 5个独特交易地点，每个地点有特色商品和价格差异
- **自动存档**: 智能的自动存档系统，确保游戏进度不会丢失
- **现代界面**: 精心设计的UI，让游戏操作更加直观和舒适

## 📥 安装方式

### Windows

#### 安装版
1. 下载最新版本的安装程序 `买房记-安装版-0.1.0.exe`
2. 双击运行安装程序，按照提示完成安装
3. 从开始菜单或桌面快捷方式启动游戏

#### 便携版
1. 下载便携版 `买房记-便携版-0.1.0.exe`
2. 双击即可直接运行，无需安装
3. 数据将保存在同目录下的userData文件夹中

## 🎯 游戏目标

在游戏中，你将扮演一位有志向的商人，初始资金仅5000元，还背负着2000元债务。你需要：

1. 通过买卖各种商品赚取利润
2. 积累足够资金购买理想的房产
3. 在52周的游戏时间内尽可能提高净资产
4. 应对随机事件带来的机遇和挑战
5. 避免破产，保持现金流

## 🕹️ 基本操作

- **切换地点**: 点击地图或地点列表选择要去的地点
- **买卖商品**: 在市场界面选择商品和数量，点击买入/卖出按钮
- **查看背包**: 点击背包图标查看已购买的商品
- **存档/读档**: 通过游戏菜单进行存档和读档操作
- **下一周**: 点击"下一周"按钮推进游戏时间，触发价格变动和随机事件

## 💡 游戏技巧

- 关注价格趋势，在低价时买入，高价时卖出
- 不同地点有各自的特色商品，价格更优惠
- 保持一定现金流，以应对突发事件
- 谨慎管理债务，避免利息过高
- 留意随机事件中的选择，它们可能带来意外收益

## 🛠️ 开发技术

- **前端框架**: Vue 3 + Vite
- **桌面应用**: Electron
- **状态管理**: Pinia
- **UI设计**: 自定义组件 + TailwindCSS
- **国际化**: vue-i18n
- **自动更新**: electron-updater

## 📝 更新日志

查看 [CHANGELOG.md](./CHANGELOG.md) 了解版本更新历史。

## 🔮 未来计划

- 多样化投资系统
- 更丰富的房产系统
- 社交系统与NPC互动
- 游戏内小游戏
- 在线排行榜和成就系统

## 最近更新：事件系统优化

### 地区特定价格影响系统

最近对事件系统进行了重要优化，使事件能够更精确地影响游戏经济：

#### 主要改进

1. **地区特定价格修正**：
   - 事件现在可以针对特定地区产生价格影响，而不仅仅是全局或商品类别
   - 例如：某个地区发生自然灾害，只影响该地区的价格，而不影响其他地区

2. **地区内特定商品价格修正**：
   - 事件可以同时指定地区和特定商品，使价格影响更加精确
   - 例如：电子科技城的芯片短缺事件只会影响该地区的电子产品价格

3. **事件描述的明确性**：
   - 事件描述中明确说明了影响的具体地区和商品
   - 玩家可以根据事件信息做出更明智的交易决策

#### 示例事件

- **电子科技城芯片短缺**：电子科技城整体价格上涨30%，持续4周
- **高端商城名表促销**：高端商城的手表价格下降40%，持续2周
- **全国性纸张短缺**：大宗商品交易所和二手市场的卫生纸价格分别上涨70%和50%
- **城市区域发展不均**：电子科技城整体降价20%，地下黑市整体涨价40%

#### 技术实现

优化涉及以下关键组件的修改：

- `EventEffects`：扩展市场影响参数，支持地区修正和地区内商品修正
- `marketState`：增加`locationModifiers`和`locationProductModifiers`状态管理
- `priceSystem`：价格计算逻辑考虑地区因素，正确应用修正

这些改进使游戏经济系统更加动态和真实，为玩家提供更多策略性的交易机会。

#### 已优化的现有事件

以下是已经完成优化的事件，以支持新的地区特定价格系统：

1. **局部市场繁荣**（原"市场繁荣"）：
   - 现在明确指出高端商城和电子科技城价格上涨
   - 替换了全局价格修正为地区特定价格修正
   - 不同选项会影响这些地区的价格波动程度和持续时间

2. **局部市场崩盘**（原"市场崩盘"）：
   - 现在明确指出二手市场和地下黑市价格下跌
   - 替换了全局价格修正为地区特定价格修正
   - 玩家可以选择在特定低价地区购买，或减少损失

3. **电子科技城展销会**（原"电子产品展销会"）：
   - 现在针对电子科技城的特定产品（手机、智能手表）提供折扣
   - 使用locationProductModifiers精确控制价格变化
   - 提供了更具策略性的选择

4. **奢侈品与收藏品价格飙升**（原"市场价格飙升"）：
   - 现在明确指出高端商城和地下黑市的奢侈品和收藏品价格上涨
   - 使用多层次价格修正：全局小幅、地区中幅、特定商品大幅
   - 新增选项允许玩家立即前往影响地区

5. **全球供应链逐步恢复**（优化版"供应链恢复"）：
   - 增加了地区和商品恢复速度的差异性
   - 使用locationProductModifiers实现不同地区不同商品的独特价格趋势
   - 提供更具战略意义的选项

6. **全球供应链中断危机**（全新事件）：
   - 这是一个复杂的新事件，展示了系统的全部功能
   - 同时影响多个地区和多种商品的价格
   - 提供四种不同策略选择，每种选择都会产生不同的市场效果
   - 包括强制地点变更选项，引导玩家前往特定地区

这些优化后的事件不仅利用了新系统的技术特性，还大幅提升了游戏的策略深度和经济系统的真实感。玩家现在可以通过更加精细的市场信息来优化自己的交易策略。
